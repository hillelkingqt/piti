<!-- filename: שימושים_מתקדמים_בMSE_מתוקן.html -->
<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>שימושים ונוסחאות מבוססות MSE</title>
    <!-- KaTeX -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha384-n8MVd4RsNIU0KOVEMQNpokGKNdvzTyFHZAIPWY/lUswyCBEbFnS+AKzloNBvGZ2H" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Rubik', sans-serif;
            background-color: #1a1a2e; /* Dark blue background */
            color: #e0e0e0; /* Light gray text */
            line-height: 1.8;
            margin: 0;
            padding: 20px;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .container {
            max-width: 900px;
            margin: 20px auto;
            padding: 30px;
            background-color: #162447; /* Slightly lighter dark blue */
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            border: 1px solid #1f4068;
        }
        h1, h2, h3 {
            color: #1f7a8c; /* Teal color for headers */
            border-bottom: 2px solid #1f4068;
            padding-bottom: 10px;
            margin-top: 30px;
            font-weight: 700;
        }
        h1 { font-size: 2.4em; text-align: center; border: none; }
        h2 { font-size: 1.9em; }
        h3 { font-size: 1.5em; border-bottom-style: dotted; }
        p, li {
            font-size: 1.1em;
        }
        .math-block {
            background-color: #101820; /* Very dark background for math */
            padding: 25px;
            border-radius: 8px;
            margin: 25px 0;
            overflow-x: auto;
            border: 1px solid #1f4068;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .math-block:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(31, 122, 140, 0.2);
        }
        /* KaTeX color will be light */
        .katex {
           font-size: 1.25em !important;
           color: #f0f4f8; /* Light blue/white for math text */
        }
        code {
            background-color: #2a3b5a;
            color: #ffafcc; /* Light pink for code */
            padding: 3px 7px;
            border-radius: 5px;
            font-family: 'Courier New', Courier, monospace;
            direction: ltr;
            display: inline-block;
        }
        .highlight {
            background-color: #1f7a8c;
            color: #ffffff;
            padding: 3px 6px;
            border-radius: 4px;
        }
        .footer {
            text-align: center;
            margin-top: 50px;
            font-size: 0.9em;
            color: #7f8daa;
        }
        .card {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .card.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="card">שימושים ונוסחאות מתקדמות המבוססות על MSE</h1>
        <p class="card">עילי היקר, כפי שהבנת, MSE הוא לא רק מדד הערכה, אלא אבן יסוד בתיאוריות ונוסחאות רבות בלמידת מכונה. הנה הרחבה על הנושאים שביקשת, בצורה שתהיה ברורה וקריאה:</p>

        <div class="card">
            <h2>1. MSE כפונקציית מחיר (Cost Function)</h2>
            <p>השימוש הנפוץ ביותר ב-MSE הוא כ<span class="highlight">פונקציית מחיר</span>, בעיקר במודלי רגרסיה. המטרה של המודל היא למצוא את הפרמטרים (משקלים) שממזערים את ה-MSE.</p>
            <h3>ברגרסיה לינארית:</h3>
            <p>התחזית של המודל היא <code dir="ltr">Ŷ = θ₀ + θ₁X</code>. פונקציית המחיר <code dir="ltr">J(θ₀, θ₁)</code>, אותה נרצה למזער, היא פשוט ה-MSE:</p>
            <div class="math-block">
                $$ J(\theta_0, \theta_1) = \frac{1}{n} \sum_{i=1}^{n} (Y_i - \hat{Y}_i)^2 = \frac{1}{n} \sum_{i=1}^{n} (Y_i - (\theta_0 + \theta_1 X_i))^2 $$
            </div>
            <p>אלגוריתם כמו <span class="highlight">Gradient Descent</span> משתמש בנגזרת של פונקציה זו כדי לעדכן את המשקלים <code dir="ltr">θ₀, θ₁</code> באופן איטרטיבי עד להתכנסות למינימום.</p>
        </div>

        <div class="card">
            <h2>2. פירוק הטיה-שונות (Bias-Variance Decomposition)</h2>
            <p>זוהי אחת הנוסחאות התיאורטיות החשובות ביותר בלמידת מכונה, והיא מראה ממה ה-MSE באמת מורכב. ניתן לפרק את שגיאת התחזית הצפויה של מודל כלשהו לשלושה רכיבים:</p>
            <div class="math-block">
                $$ \text{MSE}(\hat{Y}) = E[(Y - \hat{Y})^2] = (\text{Bias}(\hat{Y}))^2 + \text{Var}(\hat{Y}) + \sigma^2 $$
            </div>
            <ul>
                <li><code dir="ltr">(Bias(Ŷ))²</code>: <span class="highlight">הטיה בריבוע.</span> מייצגת את הטעות הנובעת מהנחות שגויות של המודל. מודל פשוט מדי (למשל, קו ישר לנתונים לא לינאריים) יסבול מהטיה גבוהה.</li>
                <li><code dir="ltr">Var(Ŷ)</code>: <span class="highlight">שונות.</span> מייצגת את רגישות המודל לשינויים קטנים בנתוני האימון. מודל מורכב מדי (Overfitting) יסבול משונות גבוהה.</li>
                <li><code dir="ltr">σ²</code>: <span class="highlight">שגיאה אי-פריקה (Irreducible Error).</span> זהו הרעש הטבעי בנתונים, שלא ניתן להפחית באמצעות בחירת מודל טוב יותר.</li>
            </ul>
            <p>נוסחה זו היא הבסיס ל<span class="highlight">פשרת הטיה-שונות</span>: ככל שאנו מנסים להקטין את ההטיה (ע"י שימוש במודל מורכב יותר), אנו לרוב מגדילים את השונות, ולהיפך.</p>
        </div>

        <div class="card">
            <h2>3. רגולריזציה (Regularization)</h2>
            <p>כדי להילחם ב-Overfitting (שונות גבוהה), מוסיפים לרוב "עונש" לפונקציית המחיר. העונש מבוסס על גודל המשקלים של המודל. ברגולריזציית L2 (Ridge), העונש הוא סכום ריבועי המשקלים, והוא מתווסף ל-MSE:</p>
            <h3>פונקציית המחיר של רגרסיית Ridge:</h3>
            <div class="math-block">
                $$ J(\theta) = \text{MSE}(\theta) + \lambda \sum_{j=1}^{p} \theta_j^2 $$
            </div>
            <p>כאן, <code dir="ltr">λ</code> (למבדה) הוא פרמטר הקובע את עוצמת העונש. שימוש ב-MSE כבסיס מאפשר את האינטגרציה החלקה של העונש הריבועי הזה, ששומר על הפונקציה גזירה ונוחה לאופטימיזציה.</p>
        </div>
    </div>
    
    <div class="footer">
        נוצר באהבה ותיקונים על ידי פיתי ❤️
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Render KaTeX
            renderMathInElement(document.body, {
                delimiters: [
                    {left: '$$', right: '$$', display: true},
                    {left: '$', right: '$', display: false},
                    {left: '\\(', right: '\\)', display: false},
                    {left: '\\[', right: '\\]', display: true}
                ],
                throwOnError: false
            });

            // Intersection Observer for animations
            const cards = document.querySelectorAll('.card');
            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, {
                threshold: 0.1
            });
            cards.forEach(card => {
                observer.observe(card);
            });
        });
    </script>
</body>
</html>